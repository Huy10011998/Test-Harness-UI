{"ast":null,"code":"var _jsxFileName = \"/Users/quochuy/Desktop/Project-Demo/Test-harness-ui/src/pages/website/create/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"../../../common/axios\";\nimport { ErrorMessage } from \"../../../components/error-message\";\nimport { Loading } from \"../../../components/loading\";\nimport * as session from \"../../../common/utils\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Create(props) {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [url, setUrl] = useState(\"\");\n  const [time, setTime] = useState(15);\n  const [isCreate, setCreate] = useState(true);\n  let bodyURLs = {\n    url: url,\n    time: time\n  };\n  let onAddNew = async () => {\n    return new Promise((resolve, reject) => {\n      axios.post(\"http://stageapi.test-harness.io/websiteMonitoring/create\", bodyURLs).then(res => resolve(res)).catch(err => {\n        reject(err);\n      });\n    });\n  };\n  let handleAddNew = e => {\n    e.preventDefault();\n    const res = onAddNew();\n    res.then(rs => {\n      setErrorMessage(\"\");\n      setIsLoading(false);\n      // setCreate(false);\n      const {\n        data\n      } = rs;\n      return data;\n    }).then(data => {\n      const {\n        status\n      } = data;\n      if (status === \"success\") {\n        toast.success(\"Add new Website Success!\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: true,\n          progress: undefined\n        });\n        props.onCreated();\n      }\n    }).catch(error => {\n      if (error.response.status === 400) {\n        const {\n          message\n        } = error.response.data;\n        toast.error(message, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: true,\n          progress: undefined\n        });\n        props.onCreated();\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isCreate === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-addNew\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-newAdd\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"check-title\",\n          htmlFor: \"\",\n          children: \"Check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setUrl(e.target.value),\n          type: \"text\",\n          value: url,\n          placeholder: \"Type your url here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"in-title\",\n          htmlFor: \"\",\n          children: \"in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setTime(e.target.value),\n          className: \"time-loading\",\n          name: \"\",\n          id: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"15\",\n            children: \"every 15 seconds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"30\",\n            children: \"every 30 seconds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"60\",\n            children: \"every 60 seconds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-input\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Please type the full URL including https and www e.g\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"\",\n            children: \"https://www.test-harness.io\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-newAdd\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-newAdd\",\n          onClick: handleAddNew,\n          children: \"Start Monitoring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false);\n}\n_s(Create, \"apS31aYP4wwJIgotK99Zjm7oP88=\");\n_c = Create;\nvar _c;\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"names":["React","useState","useEffect","axios","ErrorMessage","Loading","session","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Create","props","_s","isLoading","setIsLoading","errorMessage","setErrorMessage","data","setData","url","setUrl","time","setTime","isCreate","setCreate","bodyURLs","onAddNew","Promise","resolve","reject","post","then","res","catch","err","handleAddNew","e","preventDefault","rs","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","onCreated","error","response","message","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","value","type","placeholder","name","id","href","onClick","_c","$RefreshReg$"],"sources":["/Users/quochuy/Desktop/Project-Demo/Test-harness-ui/src/pages/website/create/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"../../../common/axios\";\nimport { ErrorMessage } from \"../../../components/error-message\";\nimport { Loading } from \"../../../components/loading\";\nimport * as session from \"../../../common/utils\";\nimport { toast } from \"react-toastify\";\n\nexport default function Create(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [url, setUrl] = useState(\"\");\n  const [time, setTime] = useState(15);\n  const [isCreate, setCreate] = useState(true);\n  let bodyURLs = {\n    url: url,\n    time: time,\n  };\n  let onAddNew = async () => {\n    return new Promise((resolve, reject) => {\n      axios\n        .post(\n          \"http://stageapi.test-harness.io/websiteMonitoring/create\",\n          bodyURLs\n        )\n        .then((res) => resolve(res))\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  };\n  let handleAddNew = (e) => {\n    e.preventDefault();\n    const res = onAddNew();\n    res\n      .then((rs) => {\n        setErrorMessage(\"\");\n        setIsLoading(false);\n        // setCreate(false);\n        const { data } = rs;\n        return data;\n      })\n      .then((data) => {\n        const { status } = data;\n        if (status === \"success\") {\n          toast.success(\"Add new Website Success!\", {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: true,\n            progress: undefined,\n          });\n          props.onCreated();\n        }\n      })\n      .catch((error) => {\n        if (error.response.status === 400) {\n          const { message } = error.response.data;\n          toast.error(message, {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: true,\n            progress: undefined,\n          });\n          props.onCreated();\n        }\n      });\n  };\n\n  return (\n    <>\n      {isCreate === true ? (\n        <div className=\"content-addNew\">\n          <div className=\"input-newAdd\">\n            <label className=\"check-title\" htmlFor=\"\">\n              Check\n            </label>\n            <input\n              onChange={(e) => setUrl(e.target.value)}\n              type=\"text\"\n              value={url}\n              placeholder=\"Type your url here\"\n            />\n\n            <label className=\"in-title\" htmlFor=\"\">\n              in\n            </label>\n            <select\n              onChange={(e) => setTime(e.target.value)}\n              className=\"time-loading\"\n              name=\"\"\n              id=\"\"\n            >\n              <option value=\"15\">every 15 seconds</option>\n              <option value=\"30\">every 30 seconds</option>\n              <option value=\"60\">every 60 seconds</option>\n            </select>\n          </div>\n          <div className=\"title-input\">\n            <p>\n              Please type the full URL including https and www e.g{\" \"}\n              <a href=\"\">https://www.test-harness.io</a>\n            </p>\n          </div>\n          <div className=\"action-newAdd\">\n            <button className=\"btn btn-newAdd\" onClick={handleAddNew}>\n              Start Monitoring\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}